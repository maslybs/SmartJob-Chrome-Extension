# SmartJob (розширення для Upwork)

SmartJob додає рейтинг вакансій, швидкі підказки про клієнта (hire rate, connects, member since) та AI-оцінку завдань прямо у списку Upwork. Налаштування відкриваються у новій вкладці при кліку на іконку розширення.

## Можливості

- Рейтинг вакансії на базі бюджету, досвіду, рейтингу клієнта та інших сигналів.
- Рядок деталей під заголовком вакансії: hire rate, connects, member since.
- Кнопка "Оцінити" з AI-вердиктом (OpenRouter).
- Налаштовувані ваги та цільові значення.
- Кешування деталей з відкритих вакансій (щоб менше запитів і блокувань).

## Встановлення (Chrome/Chromium)

1. Відкрий `chrome://extensions`.
2. Увімкни **Developer mode**.
3. Натисни **Load unpacked**.
4. Обери розпаковану папку з цим репо.

## Налаштування

1. Клікни по іконці SmartJob у браузері.
2. Відкриється сторінка налаштувань.
3. Додай OpenRouter API key (для AI-оцінки).
4. За потреби зміни модель та промпт.
5. Натисни **Зберегти**.

### Тест моделі

На сторінці налаштувань є кнопка **"Тестувати модель"**. Вона робить короткий тест-запит і показує відповідь або точну помилку.

## Як працюють деталі (hire rate / connects / member since)

Upwork може блокувати часті фетч-запити (403/429). Тому:

- SmartJob намагається підтягувати деталі з видимих карток.
- Якщо блокування вже сталося, деталі не фетчаться.
- Коли ти відкриваєш вакансію, дані з неї кешуються і з'являються у списку без додаткових запитів.

Якщо бачиш "Дані тимчасово недоступні" — просто відкрий кілька вакансій у слайдері або новій вкладці, і деталі підвантажаться з кешу.

## AI-оцінка (OpenRouter)

Для роботи AI потрібен OpenRouter API key.

### Free-моделі

Для моделей з `:free` може знадобитися дозвіл на використання даних:

1. Відкрий https://openrouter.ai/settings/privacy
2. Увімкни дозвіл для **Free model publication / data policy**.

Також free-моделі часто мають rate limit (429). Якщо бачиш `Provider returned error (HTTP 429...)`, зачекай 30-120 секунд або спробуй іншу модель.

## Обмеження

- Upwork періодично змінює DOM. Якщо щось зникло — потрібно оновити селектори.
- Часті запити до `/jobs/...` можуть викликати 403. Саме тому використовується кешування з відкритих вакансій.

## Структура

- `new/` — актуальна версія розширення.
- `backup_old_ext/` — архів старого коду.

## Питання / проблеми

Якщо щось не працює, надішли:

- помилку з консолі,
- модель, яка використовується,
- скрін або HTML фрагмент вакансії.
